(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(33)},22:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(16),r=n.n(s),o=(n(22),n(14)),c=n(2),l=n(3),u=n(6),m=n(5),h=n(7),d=n(37),p=n(36),g=n(34),f=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"test",value:function(){"undefined"!==typeof Storage?console.log("### localStorage",localStorage.length):console.log("### Sorry! No Web Storage support..")}},{key:"init",value:function(){return localStorage.channels?(console.log("### localStore:","load stored channels"),JSON.parse(localStorage.channels)):(console.log("### localStore:","load starterPack"),this.update(v),v)}},{key:"update",value:function(e){var t=JSON.stringify(e);localStorage.setItem("channels",t),console.log("### localStorage",localStorage)}}]),e}(),v=[{id:"UCsP7Bpw36J666Fct5M8u-ZA",userName:"How To Cook That",category:"Cooking",weight:0},{id:"UCYjk_zY-iYR8YNfJmuzd70A",userName:"Epic Meal Time",category:"Cooking",weight:0},{id:"UCJFp8uSYCjXOMnkUyb3CQ3Q",userName:"Tasty",category:"Cooking",weight:0},{id:"UCsXVk37bltHxD1rDPwtNM8Q",userName:"Kurzgesagt \u2013 In a Nutshell",category:"Education",weight:0},{id:"UC1zZE_kJ8rQHgLTVfobLi_g",userName:"The King of Random",category:"Education",weight:0},{id:"UCsooa4yRKGN_zEE8iknghZA",userName:"TED-Ed",category:"Education",weight:0},{id:"UC6-ymYjG0SU0jUWnWh9ZzEQ",userName:"Wisecrack",category:"Film",weight:0},{id:"UCZIIRX8rkNjVpP-oLMHpeDw",userName:"Calisthenicmovedment",category:"Fitness",weight:0},{id:"UCa10nxShhzNrCE1o2ZOPztg",userName:"Trap Nation",category:"Music",weight:0},{id:"UCNZYpcqym8gHcNg2GWcC6nQ",userName:"S!X - Music",category:"Music",weight:0},{id:"UC6ghlxmJNMd8BE_u1HR-bTg",userName:"The 80's Guy",category:"Music",weight:0},{id:"UCBR8-60-B28hp2BmDPdntcQ",userName:"YouTube Spotlight",category:"Top",weight:0},{id:"UCF0pVplsI8R5kcAqgtoRqoA",userName:"Popular on YouTube",category:"Top",weight:-5},{id:"UC295-Dw_tDNtZXFeAPAW6Aw",userName:"5-Minute Crafts",category:"Top",weight:0},{id:"UC-lHJZR3Gqxm24_Vd_AJ5Yw",userName:"PewDiePie",category:"Top",weight:-5}],y=n(24),b=n(35),E=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"bg-color bg-danger"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement(y.a,{className:"text-white",to:"/"},i.a.createElement("div",{className:"text-center mt-3"},i.a.createElement("h1",{style:{display:"inline-block"}},i.a.createElement("i",{className:"fa fa-youtube mr-3"}),i.a.createElement("span",{className:"text-uppercase font-weight-bold text-white"},"Channel Watch"),i.a.createElement("span",{className:"badge text-white-50 pl-2"},"get your shit together")))))))),i.a.createElement("div",{className:"bg-color bg-danger sticky-top"},i.a.createElement("div",{className:"container"},i.a.createElement("nav",{className:"navbar navbar-expand-sm bg-danger navbar-dark justify-content-center"},i.a.createElement("ul",{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(b.a,{className:"nav-link",to:"/",activeClassName:""},"Feed")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(b.a,{className:"nav-link",to:"/find",activeClassName:"active"},"Find")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(b.a,{className:"nav-link",to:"/about",activeClassName:"active"},"About")))))))},w="AIzaSyAticSHBmV_o9Ey6iv43QkMt2Gek22aLWk",N=function(e,t){var n="https://www.googleapis.com/youtube/v3/search?part=snippet"+"&q=".concat(e.q,"&type=channel")+"&key=".concat(w);fetch(n).then(function(e){return e.json()}).then(function(e){t(e)})},C=function(e,t){var n="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet%2CcontentDetails"+"&maxResults=".concat(e.maxResult)+"&pageToken=".concat(e.pageToken)+"&playlistId=".concat(e.playlistId)+"&key=".concat(w);fetch(n).then(function(e){return e.json()}).then(function(e){t(e)})},k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={channel:{}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setChannel",value:function(e){var t={id:e.id,title:e.snippet.title,url:"https://www.youtube.com/channel/"+e.id,thumbnail:{url:e.snippet.thumbnails.default.url,width:e.snippet.thumbnails.default.width,height:e.snippet.thumbnails.default.height},subscriberCount:e.statistics.subscriberCount,viewCount:e.statistics.viewCount,videoCount:e.statistics.videoCount,uploads:e.contentDetails.relatedPlaylists.uploads};this.setState({channel:t})}},{key:"componentDidMount",value:function(){var e=this;!function(e,t){var n="https://www.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics"+"&id=".concat(e.id)+"&key=".concat(w);fetch(n).then(function(e){return e.json()}).then(function(e){t(e.items[0])})}({id:this.props.id},function(t){e.setChannel(t)})}},{key:"render",value:function(){var e=this.state.channel;return e.id?i.a.createElement("div",{className:"clearfix"},this.props.render(this.state.channel),i.a.createElement(y.a,{to:"/channel/".concat(e.id)},i.a.createElement("img",{className:"float-left rounded-circle m-2",width:e.thumbnail.width/1.65,height:e.thumbnail.height/1.65,src:e.thumbnail.url,alt:""}),i.a.createElement("h2",{className:"text-dark",style:{display:"inline"}},e.title)),i.a.createElement("br",null),i.a.createElement("span",null,parseInt(e.videoCount).toLocaleString()," videos | "),i.a.createElement("span",null,parseInt(e.viewCount).toLocaleString()," views | "),i.a.createElement("span",null,parseInt(e.subscriberCount).toLocaleString()," subscribers")):null}}]),t}(a.Component);function O(e){var t=e.channel,n=e.isOpen,a=e.onUpdate,s=e.onDelete;return i.a.createElement("div",{className:"bg-light my-3",style:{display:n?"block":"none"}},i.a.createElement("form",{name:"editChannel",className:"p-3"},i.a.createElement("div",{className:"input-group"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text"},"weight")),i.a.createElement("input",{type:"text",className:"form-control",id:"weight",defaultValue:t.weight,onChange:a}),i.a.createElement("div",{className:"input-group-prepend ml-1"},i.a.createElement("span",{className:"input-group-text"},"category")),i.a.createElement("input",{type:"text",className:"form-control",id:"category",defaultValue:t.category,onChange:a}))),i.a.createElement("div",{className:"clearfix"},i.a.createElement("button",{type:"button",className:"float-right btn btn-danger rounded-0",onClick:s},i.a.createElement("i",{className:""},"delete channel"))))}var S=n(12),j=n.n(S),x=function(e){var t=e.thumbnail;return i.a.createElement("div",{className:"card-img-top",style:{background:"#ddd"}},i.a.createElement("img",{width:t.width,height:t.height,src:t.url,style:{width:"100%",height:"auto"}}))};function I(e){var t=e.video,n=Math.round(j.a.duration(t.duration).asMinutes()),a=t.thumbnails.medium;return i.a.createElement("a",{style:{textDecoration:"none"},href:"https://www.youtube.com/watch?v=".concat(t.id),target:"blank"},i.a.createElement("div",{className:"card",style:{height:"100%"}},i.a.createElement(x,{thumbnail:a}),i.a.createElement("div",{className:"card-body p-1"},i.a.createElement("h6",{className:""},i.a.createElement("div",{className:"text-dark"},t.title))),i.a.createElement("div",{className:"card-footer p-1 text-muted small"},i.a.createElement("div",null,i.a.createElement("span",null,j()(t.publishedAt).format("HH:mm DD.MM.YY")," | "),i.a.createElement("span",null,parseInt(t.viewCount).toLocaleString()," | "),i.a.createElement("span",null,n,"min")))))}var T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={videos:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setData",value:function(e){var t=[];return e.items.map(function(e){var n={id:e.id,categoryId:e.snippet.categoryId,channelId:e.snippet.channelId,channelTitle:e.snippet.channelTitle,description:e.snippet.description,publishedAt:e.snippet.publishedAt,thumbnails:e.snippet.thumbnails,title:e.snippet.title,commentCount:e.statistics.commentCount,dislikeCount:e.statistics.dislikeCount,likeCount:e.statistics.likeCount,viewCount:e.statistics.viewCount,duration:e.contentDetails.duration};t.push(n)}),t}},{key:"doIt",value:function(){var e=this;this.props.ids.length>0&&function(e,t){var n=e.ids;if(""!==n){var a="https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics"+"&id=".concat(n)+"&key=".concat(w);fetch(a).then(function(e){return e.json()}).then(function(e){t(e)})}}({ids:this.props.ids},function(t){e.setState({videos:e.setData(t)})})}},{key:"componentDidMount",value:function(){this.doIt()}},{key:"render",value:function(){return this.props.render(this.state.videos)}}]),t}(a.Component),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!0,pages:[{nextPageToken:"",ids:[]}]},n.getNextPage=function(){var e=n.props.playlistId,t=n.props.maxResult?n.props.maxResult:3,a=n.state.pages[n.state.pages.length-1].nextPageToken;console.log("Playlist - next page",a),void 0!=a&&(n.setState({isLoading:!0}),C({playlistId:e,maxResult:t,pageToken:a},function(e){var t=n.state.pages;t.push({nextPageToken:e.nextPageToken,ids:e.items.map(function(e){return e.contentDetails.videoId})}),n.setState({pages:t}),n.setState({isLoading:!1})}))},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.refresh;e.refresh!==t&&this.getNextPage()}},{key:"componentDidMount",value:function(){this.getNextPage()}},{key:"render",value:function(){var e=this,t=this.state.pages.map(function(e,t){return i.a.createElement(T,{key:t,ids:e.ids,render:function(e){return n(e)}})}),n=function(t){return t.map(function(t){return i.a.createElement("div",{key:t.id,className:e.props.videoStyles},i.a.createElement(I,{video:t}))})};return i.a.createElement("div",{style:{minHeight:"120px"}},this.props.render(t,this.getNextPage),i.a.createElement("div",{style:{position:"absolute",bottom:0,background:"transparent",fontSize:"35px",textAlign:"right",height:"100px",width:"50%",paddingTop:"28px"}},this.state.isLoading&&i.a.createElement("i",{className:"fa fa-spinner fa-pulse"})))}}]),t}(a.Component);function A(e){var t=e.title,n=e.state,a=e.icon,s=e.onClick;return i.a.createElement("button",{className:"float-right btn btn-".concat(n),onClick:function(e){return s(e)}},i.a.createElement("i",{className:"fa fa-".concat(a)})," ",i.a.createElement("span",null,t))}var U=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={inStore:!1,editIsOpen:!1,channel:{}},n.handleEdit=function(){n.state.editIsOpen&&n.props.saveChannel(n.state.channel,function(e){console.log("response ",e)}),n.setState({editIsOpen:!n.state.editIsOpen})},n.handleUpdate=function(e){var t=n.state.channel;t[e.target.id]=e.target.value,n.setState({channel:t})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleAdd",value:function(e){var t=this;this.props.addChannel(e,function(e){t.setChannel(),t.setState({editIsOpen:!0})})}},{key:"handleDelete",value:function(){var e=this;this.props.deleteChannel(this.props.channelId,function(t){console.log("response: ",t),e.setState({inStore:!t,editIsOpen:!1})})}},{key:"setChannel",value:function(){var e=this,t=this.props.storedChannels.find(function(t){return t.id==e.props.channelId});t&&this.setState({inStore:!0,channel:t})}},{key:"componentDidMount",value:function(){this.setChannel()}},{key:"render",value:function(){var e,t=this;return this.state.inStore&&(e=this.state.editIsOpen?i.a.createElement(A,{state:"success rounded-circle",icon:"save",onClick:this.handleEdit}):i.a.createElement(A,{state:"default rounded-circle",icon:"pencil",onClick:this.handleEdit})),i.a.createElement("div",{className:"mt-3"},e,i.a.createElement(k,{id:this.props.channelId,render:function(e){return!t.state.inStore&&i.a.createElement(A,{state:"primary rounded-circle",icon:"plus",onClick:function(){return t.handleAdd(e)}})}}),this.state.inStore&&i.a.createElement(O,{channel:this.state.channel,isOpen:this.state.editIsOpen,onDelete:function(){return t.handleDelete()},onUpdate:function(e){return t.handleUpdate(e)}}))}}]),t}(a.Component);function M(e){return i.a.createElement("ul",{className:"list-group mb-3"},e.channels.map(function(t){return i.a.createElement("li",{key:t.id,className:"list-group-item"},i.a.createElement(U,Object.assign({channelId:t.id},e)),i.a.createElement(D,{playlistId:"UU"+t.id.slice(2),maxResult:"4",videoStyles:"col-xs-12 col-sm-6 col-md-3 mt-3",render:function(e,t){return i.a.createElement("div",{className:"row"},e)}}))}))}var P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;e=this.props.storedChannels.map(function(e){return e.category}).filter(function(e,t,n){return!n.hasOwnProperty(e)&&(n[e]=!0)}).map(function(e){return i.a.createElement("li",{key:e,className:"nav-item"},i.a.createElement(b.a,{className:"nav-link text-muted",to:"/category/".concat(e)},e))});var n=this.props.storedChannels.filter(function(e){return!t.props.match.params.id||e.category===t.props.match.params.id});return n.sort(function(e,t){return e.weight-t.weight}),i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"nav nav-tabs mt-3 mb-3"},e),i.a.createElement(M,Object.assign({channels:n},this.props)))}}]),t}(a.Component);function F(e){return i.a.createElement("form",{name:"searchForm",className:"my-3",onSubmit:function(t){return e.onFormSubmit(t)}},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",name:"q",className:"form-control",placeholder:"Find a new channel",onChange:function(t){return e.onInputChange(t)}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-default",type:"submit"},i.a.createElement("i",{className:"fa fa-search"})," search"))),i.a.createElement("a",{className:"text-muted",href:"https://developers.google.com/apis-explorer/#s/youtube/v3/youtube.search.list?part=snippet&_h=3&",target:"blank"},"developers.google.com/apis-explorer"))}var R=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={value:"",channels:[]},n.onInputChange=function(e){n.setState({value:e.target.value}),setTimeout(function(){n.onFormSubmit()},1200)},n.onFormSubmit=function(e){e&&e.preventDefault(),N({q:n.state.value},function(e){var t=e.items.map(function(e){return{id:e.id.channelId,title:e.snippet.title}});n.setState({channels:t})})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F,{onInputChange:this.onInputChange,onFormSubmit:this.onFormSubmit}),i.a.createElement(M,Object.assign({channels:this.state.channels},this.props)))}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={refreshToken:!1},n.onScroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&n.switchRefreshToken()},n.switchRefreshToken=function(){return n.setState({refreshToken:!n.state.refreshToken})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return i.a.createElement("div",{className:"mt-3"},i.a.createElement(U,Object.assign({channelId:this.props.match.params.id,page:this.state.page},this.props)),i.a.createElement(D,{playlistId:"UU"+this.props.match.params.id.slice(2),maxResult:"12",videoStyles:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mt-3",refresh:this.state.refreshToken,render:function(e){return i.a.createElement("div",{style:{marginBottom:"100px"},className:"row"},e)}}))}}]),t}(a.Component),H=function(e){return i.a.createElement(d.a,{to:"/category/".concat(e.storedChannels[0].category)})},W=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={channels:[],routes:[{path:"/",exact:!0,component:H},{path:"/category/:id",component:P},{path:"/channel/:id",component:L},{path:"/find",component:R}]},n.addChannel=function(e,t){if(!e.id)return console.log("## Add-error: ",e),null;console.log("## Add: ",e);var a=n.state.channels;a.push({id:e.id,title:e.title,category:"New",weight:0}),n.setState({channels:a}),f.update(a),t(!0)},n.deleteChannel=function(e,t){console.log("## Delete-id: ",e);var a=n.state.channels,i=a.findIndex(function(t){return t.id===e});a.splice(i,1),n.setState({channels:a}),f.update(a),t(!0)},n.saveChannel=function(e,t){var a=n.state.channels,i=a.findIndex(function(t){return t.id===e.id});console.log("\n","# Save: ",a[i]),n.setState({channels:a}),f.update(a),t(!0)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.routes.map(function(t){return Object(o.a)({},t,{component:null,render:function(n){return i.a.createElement(t.component,Object(o.a)({storedChannels:e.state.channels,addChannel:e.addChannel,deleteChannel:e.deleteChannel,saveChannel:e.saveChannel},n),null)}})});this.setState({routes:t}),this.setState({channels:f.init()})}},{key:"render",value:function(){return i.a.createElement(p.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(E,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},this.state.channels.length>0&&this.state.routes.map(function(e,t){return i.a.createElement(g.a,Object.assign({key:t},e))}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(29),n(31);r.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.c52e2362.chunk.js.map